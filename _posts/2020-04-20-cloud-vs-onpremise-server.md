---
layout: post
title: "온프레미스에서 클라우드로 - 서버 이전을 계속 미루는 개발자의 고백"
date: 2020-04-20 09:00:00 +0900
categories: [Development, DevOps]
tags: [서버, 클라우드, AWS, 온프레미스, IDC, 서버이전]
author: "Kevin Park"
lang: ko
excerpt: "새 프로젝트는 클라우드, 기존 건 IDC 그대로. 매번 이전해야지 하면서 응급처치만 하고 미루는 중이다."
---

# 온프레미스에서 클라우드로 넘어가는 과도기

## 현재 상황

요즘 서버 운영 방식이 완전히 두 갈래로 나뉘어 있다.

새로운 프로젝트는 클라우드(AWS 등)로 올리고 있는데, 기존에 작업했던 건 IDC에 입고해서 세팅한 서버에 그대로 돌아가고 있다. 옮기는 게 쉽지 않다.

## 서버가 늙어가고 있다

문제는 기존 서버가 점점 노후화되고 있다는 거다.

하드디스크가 문제를 일으킬 때마다 가슴이 철렁 내려앉는다. 진짜 그 순간만큼은 "아 이번에는 꼭 이전해야지"라고 굳게 다짐하는데... 응급처치하고 나면 다시 계획을 저 뒤로 미루게 된다.

이거 완전 다이어트 계획이랑 비슷하다. "월요일부터 시작해야지" 하고 매주 월요일이 지나가는 느낌.

## 클라우드의 장점은 확실하다

솔직히 클라우드 써보니까 확실히 편하다.

- 하드웨어 걱정이 없다
- 스케일링이 자유롭다
- 백업이 자동이다
- 서버실에 직접 갈 일이 없다

특히 IDC에 물리 서버 넣어두면 밤중에 장애 전화 올까봐 항상 불안한데, 클라우드는 그 스트레스가 확 줄어든다.

## 그럼에도 못 옮기는 이유

안 옮기는 게 아니라 못 옮기는 거다.

돌아가고 있는 서비스를 중단 없이 이전하는 건 생각보다 리스크가 크다. DB 마이그레이션에 DNS 변경에 SSL 인증서에... 하나라도 잘못 건드리면 서비스가 뻗어버리니까. 운영 중인 서비스라 "잠깐 내릴게요~" 하기도 어렵고.

결국 "작동하고 있으면 건드리지 마라"라는 개발자의 본능이 발동되는 거다.

## 현실적인 계획

당장 전체를 옮기는 건 무리고, 이런 식으로 접근하려고 한다.

1. 새 프로젝트는 100% 클라우드
2. 기존 서버 장애 발생 시 그 기회에 클라우드로 이전
3. 트래픽 적은 서비스부터 순차적으로 이전

언젠간 다 옮기게 되겠지... 아마도... 아마?
