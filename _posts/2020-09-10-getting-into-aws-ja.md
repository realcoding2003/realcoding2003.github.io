---
layout: post
title: "AWSにどっぷりハマったオンプレミス開発者の入門記"
date: 2020-09-10 09:00:00 +0900
categories: [Development, DevOps]
tags: [AWS, クラウド, EC2, S3, Lambda, 入門]
author: "Kevin Park"
lang: ja
excerpt: "IDCに10年以上サーバーを置いていた開発者がAWSに入門しました。遅いと思っていましたが、遅かった分だけ感動が大きいです。"
---

# AWSにどっぷりハマったオンプレミス開発者

## 遅咲きの入門

最近、AWSに完全にハマっています。

クラウドに移行すべきだということはずっと前から分かっていました。以前[サーバー移行を先延ばしにし続ける話](/2020/04/20/cloud-vs-onpremise-server-ja/)を書いたこともありますが、あの時はまだ「いつかやろう」レベルでした。

でも今年に入ってから本格的にAWSを触り始めたら...これがどうしてこんなに楽しいのでしょう。

## IDCからAWSへ移ってみて

オンプレミスで10年以上やってきた人間にとって、AWSは衝撃でした。

EC2インスタンスを一つ立ち上げるのに5分。IDCにサーバーを入れるとなると、見積もりを取って、発注して、納品されて、ラックに載せて、OS をインストールして...最低2週間。この差は本当に大きいです。

S3にファイルをアップロードすれば自動的に冗長化され、RDSを使えばバックアップは自動、CloudWatchを設定しておけばモニタリングも自動。これを全部手動でやっていたなんて。

サーバールームにUPSのバッテリーを交換しに行っていた頃が、急に原始時代のように感じます。

## 特にハマったサービス

触ってみたサービスの中で、特に印象深かったものです。

**Lambda** — サーバーなしで関数だけアップロードすればいいという概念が、最初は理解できませんでした。でも使ってみると本当に便利です。簡単なAPIはこれで完了。サーバー管理が不要ですから。

**S3** — 単純なファイルストレージだと思っていたら、静的ウェブサイトホスティングもでき、CloudFrontと連携すればCDNまで。料金も安いです。

**CloudFormation** — インフラをコードで管理するという概念。最初はYAML地獄でしたが、慣れてしまえばサーバー環境の複製がとても簡単になります。「この環境をもう一つ同じように作ってください」が、ファイル一つで解決できるようになりました。

## 失敗もたくさんしました

もちろん良いことばかりではありません。

IAM権限設定でかなり苦労しました。何をしても「Access Denied」が出るのに、どこでブロックされているのか見つけるのが難しい。ポリシーという概念が最初は直感的ではありませんでした。

VPCネットワーク構成も一度こじれるとパニックです。サブネット、ルーティングテーブル、インターネットゲートウェイ、NATゲートウェイ...オンプレミスでネットワークを触っていたのとは概念が違うので、慣れるのに時間がかかりました。

そして料金。何か設定を間違えると料金が跳ね上がります。テスト用に立ち上げたインスタンスを消さずに帰宅したことがありますが、幸いフリーティアだったので大した金額ではありませんでした。プロダクションだったら冷や汗ものでした。

## 今後の計画

AWSをある程度触ってみたので、もっと体系的に勉強しようと思います。

AWS認定資格にも挑戦するつもりです。Developer Associateから始めようと思っていますが、資格準備の過程自体がサービスを体系的に学ぶ良い方法だと聞いています。

遅くから始めましたが、遅かった分だけIDCの経験があるので「こんなに簡単にできたのか」という感動がより大きいです。むしろオンプレミスの経験がある人がクラウドに移る時に理解が早い部分もあります。

サーバールームで汗を流していた頃の苦労が、今AWSをより深く理解するのに役立っているとは...無駄な経験というものはないのでしょうか。
