---
layout: default
---

{% assign current_lang = page.lang | default: site.default_lang %}
{% assign lang_data = site.data[current_lang] %}

<article class="post">
    {% if page.image %}
    <div class="post-hero" style="background-image: url('{{ page.image }}')">
        <div class="hero-overlay">
            <div class="container">
                <div class="hero-text">
                    <h1>{{ page.title }}</h1>
                    <div class="post-meta">
                        <span class="post-date">
                            <time datetime="{{ page.date | date_to_xmlschema }}">
                                {{ page.date | date: "%Y.%m.%d" }}
                            </time>
                        </span>
                        {% if page.author %}
                            <span class="post-author">{{ page.author }}</span>
                        {% endif %}
                        {% if page.categories %}
                            <span class="post-categories">
                                {% for category in page.categories %}
                                    <a href="/categories#{{ category | slugify }}">{{ category }}</a>{% unless forloop.last %}, {% endunless %}
                                {% endfor %}
                            </span>
                        {% endif %}
                        <span class="reading-time">
                            {% assign words = content | number_of_words %}
                            {% if words < 360 %}
                                1 min read
                            {% else %}
                                {{ words | divided_by: 180 }} min read
                            {% endif %}
                        </span>
                        <button class="share-btn-mini copy-link" onclick="copyToClipboard('{{ site.url }}{{ page.url }}')">
                            {{ lang_data.ui.copy_link | default: "Link" }}
                        </button>
                    </div>
                    {% if page.tags %}
                        <div class="post-tags">
                            {% for tag in page.tags %}
                                <a href="/tags#{{ tag | slugify }}" class="tag">{{ tag }}</a>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <header class="post-header">
        <div class="container">
            <h1 class="post-title">{{ page.title }}</h1>
            <div class="post-meta">
                <span class="post-date">
                    <time datetime="{{ page.date | date_to_xmlschema }}">
                        {{ page.date | date: "%Y.%m.%d" }}
                    </time>
                </span>
                {% if page.author %}
                    <span class="post-author">{{ page.author }}</span>
                {% endif %}
                {% if page.categories %}
                    <span class="post-categories">
                        {% for category in page.categories %}
                            <a href="/categories#{{ category | slugify }}">{{ category }}</a>{% unless forloop.last %}, {% endunless %}
                        {% endfor %}
                    </span>
                {% endif %}
                <span class="reading-time">
                    {% assign words = content | number_of_words %}
                    {% if words < 360 %}
                        1 min read
                    {% else %}
                        {{ words | divided_by: 180 }} min read
                    {% endif %}
                </span>
                <button class="share-btn-mini copy-link" onclick="copyToClipboard('{{ site.url }}{{ page.url }}')">
                    {{ lang_data.ui.copy_link | default: "Link" }}
                </button>
            </div>

            {% if page.tags %}
                <div class="post-tags">
                    {% for tag in page.tags %}
                        <a href="/tags#{{ tag | slugify }}" class="tag">{{ tag }}</a>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </header>
    {% endif %}

    <div class="post-content">
        <div class="container">
            {{ content }}
        </div>
    </div>

    <footer class="post-footer">
        <div class="container">
            <nav class="post-navigation">
                <h3 class="nav-heading">{{ lang_data.ui.other_posts | default: "Other Posts" }}</h3>
                <ul class="nav-post-list">
                    {% assign count = 0 %}
                    {% for post in site.posts %}
                        {% assign post_lang = post.lang | default: site.default_lang %}
                        {% if post_lang == current_lang and post.url != page.url %}
                            {% if count < 5 %}
                                <li class="nav-post-item">
                                    <span class="nav-post-date">{{ post.date | date: "%m.%d" }}</span>
                                    <a href="{{ post.url | relative_url }}" class="nav-post-link">{{ post.title }}</a>
                                </li>
                                {% assign count = count | plus: 1 %}
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                </ul>
            </nav>

            {% if site.comments.provider == "utterances" %}
                <div class="post-comments">
                    <script src="https://utteranc.es/client.js"
                            repo="{{ site.comments.utterances.repo }}"
                            issue-term="{{ site.comments.utterances.issue_term }}"
                            theme="{{ site.comments.utterances.theme }}"
                            crossorigin="anonymous"
                            async>
                    </script>
                </div>
            {% endif %}
        </div>
    </footer>
</article>

<!-- JSON-LD Structured Data -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": {{ page.title | jsonify }},
    "datePublished": "{{ page.date | date_to_xmlschema }}",
    "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
    "author": {
        "@type": "Person",
        "name": "{{ page.author | default: site.author }}",
        "url": "{{ site.url }}/about/"
    },
    "publisher": {
        "@type": "Organization",
        "name": "{{ site.title }}",
        "logo": {
            "@type": "ImageObject",
            "url": "{{ site.url }}/assets/images/character.png"
        }
    },
    "description": {{ page.excerpt | strip_html | truncate: 200 | jsonify }},
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ page.url | absolute_url }}"
    }
    {% if page.image %},
    "image": "{{ page.image | absolute_url }}"
    {% endif %}
}
</script>

<script>
    function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(function() {
            const btn = document.querySelector('.copy-link');
            const originalText = btn.innerHTML;
            btn.innerHTML = 'âœ“ {{ lang_data.ui.copied | default: "Copied!" }}';
            setTimeout(function() {
                btn.innerHTML = originalText;
            }, 2000);
        });
    }
</script>
